/**
 * Fonte e parser dos dados de cursos UFSC.
 * Converte a tabela bruta em uma estrutura tipada de cursos/pesos/cortes.
 */
export type ChaveDisciplina =
  | "PLI"
  | "SLI"
  | "MTM"
  | "BLG"
  | "QMC"
  | "FSC"
  | "CHS"
  | "RDC"
  | "DSC";

export type Curso = {
  codigo: string;
  nome: string;
  campus: string;
  pesos: Record<ChaveDisciplina, number>;
  cortes: Record<ChaveDisciplina, number>;
  pmc: number;
};

const CHAVES_DISCIPLINAS: ChaveDisciplina[] = [
  "PLI",
  "SLI",
  "MTM",
  "BLG",
  "QMC",
  "FSC",
  "CHS",
  "RDC",
  "DSC",
];

const DADOS_BRUTOS = `
301 ADMINISTRAÇÃO - BEL - MATUTINO FLORIANÓPOLIS 3 1 3 1 1 1 2 3 2 3 0,5 2 0 0 0 2 3 0 194
316 ADMINISTRAÇÃO - BEL - NOTURNO FLORIANÓPOLIS 3 1 3 1 1 1 2 3 2 3 0,5 2 0 0 0 2 3 0 194
555 AGRONOMIA - BEL - INTEGRAL9 CURITIBANOS 1 1 1 1 1 1 1 1,5 1 2 0,5 0,5 0,5 0,5 0,5 2 3 0 105
501 AGRONOMIA - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 1,5 1,5 1 1 1 1,5 2 2 0,5 0,5 0,5 0,5 0,5 0,5 2 0 125
455 ANIMAÇÃO - BEL - INTEGRAL10 FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
337 ANTROPOLOGIA - BEL - VESPERTINO FLORIANÓPOLIS 1,5 1 1 1 1 1 1 1,5 2 2,5 0,5 0,5 0,5 0,5 0,5 2 3 0 121
207 ARQUITETURA E URBANISMO - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
335 ARQUIVOLOGIA - BEL - MATUTINO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 2 0,5 0,5 0,5 0,5 0,5 2 3 0 105
451 ARTES CÊNICAS - BEL - NOTURNO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
324 BIBLIOTECONOMIA - BEL - NOTURNO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 2 0 0 0 0 0 2 3 0 105
208 CIÊNCIA DA COMPUTAÇÃO - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 3 1 1 1 1 1,5 3 3 2 3 1,5 1,5 2 1,5 3 0 145
342 CIÊNCIA DA INFORMAÇÃO - BEL - INTEGRAL10 FLORIANÓPOLIS 1 1 2 1 1 1 1 1 1 3 3 0,5 0,5 0,5 0,5 3 3 0 110
601 CIÊNCIA E TECNOLOGIA - BEL - INTEGRAL9 JOINVILLE 1 1 1 1 1 1 1 1 1 1 1 1 0,5 1 1 1 1 0 100
503 CIÊNCIA E TECNOLOGIA DE ALIMENTOS - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 1 1 1 1 1 1 1 2 0,5 0,2 0,2 0,2 0,2 2 3 0 100
108 CIÊNCIAS BIOLÓGICAS - BEL/LIC8 - INTEGRAL9 FLORIANÓPOLIS 2 1 1 2 1 1 2 3 2 2 0,5 0,5 0,5 0,5 0,5 2 3 0 172
110 CIÊNCIAS BIOLÓGICAS - LIC - NOTURNO FLORIANÓPOLIS 2 1 1 2 1 1 2 3 2 2 0,5 0,5 0,5 0,5 0,5 2 3 0 172
302 CIÊNCIAS CONTÁBEIS - BEL - MATUTINO FLORIANÓPOLIS 2 1 2 1 1 1 1 1,5 1 3 0,5 1,5 0 0 0 0 3 0 127
317 CIÊNCIAS CONTÁBEIS - BEL - NOTURNO FLORIANÓPOLIS 2 1 2 1 1 1 1 1,5 1 3 0,5 1,5 0 0 0 0 3 0 127
304 CIÊNCIAS ECONÔMICAS - BEL - MATUTINO FLORIANÓPOLIS 2 1 2 1 1 1 2 1,5 1 3 0,5 1 0 0 0 0 3 0 147
318 CIÊNCIAS ECONÔMICAS - BEL - NOTURNO FLORIANÓPOLIS 2 1 2 1 1 1 2 1,5 1 3 0,5 1 0 0 0 0 3 0 147
310 CIÊNCIAS SOCIAIS - BEL/LIC8 - MATUTINO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,2 0,2 0,2 0,2 2 3 0 105
320 CIÊNCIAS SOCIAIS - BEL/LIC8 - NOTURNO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,2 0,2 0,2 0,2 2 3 0 105
450 CINEMA - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
454 DESIGN - BEL - INTEGRAL10 FLORIANÓPOLIS 2 1 1 1 1 1 1 3 2 3 0,5 0,5 0,5 0,5 0,5 2 3 0 142
452 DESIGN DE PRODUTO - BEL - INTEGRAL10 FLORIANÓPOLIS 2 1 1 1 1 1 1 3 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 132
303 DIREITO - BEL - MATUTINO FLORIANÓPOLIS 2 1 1 1 1 1 2 2 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 142
5 DIREITO - BEL - NOTURNO FLORIANÓPOLIS 2 1 1 1 1 1 2 2 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 142
444 EDUCAÇÃO FÍSICA - BEL - MATUTINO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
404 EDUCAÇÃO FÍSICA - LIC - VESPERTINO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
101 ENFERMAGEM - BEL - INTEGRAL9 FLORIANÓPOLIS 2 1 1 2 1,5 1 1 1,5 1 3 1 1 2 1 1 3 3 0 132
602 ENGENHARIA AEROESPACIAL - BEL - INTEGRAL9 JOINVILLE 2 1 4 1 1 3 1 1,5 2 3 1 2 1 1 2 1 3 0 177
603 ENGENHARIA AUTOMOTIVA - BEL - INTEGRAL9 JOINVILLE 2 1 4 1 1 3 1 2 1 2 1 1,5 0 0 1 1 3 0 172
201 ENGENHARIA CIVIL - BEL - INTEGRAL9 FLORIANÓPOLIS 2 1 4 1 1 3 1 1,5 2 3 1 2 1 1 2 1 3 0 177
607 ENGENHARIA CIVIL DE INFRAESTRUTURA - BEL - INTEGRAL9 JOINVILLE 2 1 2 1 1 2 1 1,5 1 3 1 1,5 0,5 0,7 1,5 1 3 0 137
215 ENGENHARIA DE ALIMENTOS - BEL - INTEGRAL9 FLORIANÓPOLIS 2 1,5 4 1 2 3 1 1,5 2 3 1 2 1 1 2 1 3 0 191
234 ENGENHARIA DE AQUICULTURA - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 2 0,3 0,5 0,5 0,5 0,5 2 2 0 105
655 ENGENHARIA DE COMPUTAÇÃO - BEL - INTEGRAL10 ARARANGUÁ 2 1 4 1 1 3 1 1,5 2 0,5 0 0,5 0 0 0,5 0 0,5 0 177
754 ENGENHARIA DE CONTROLE E AUTOMAÇÃO - BEL - INTEGRAL9 BLUMENAU 2 1 4 1 1 3 1 1,5 2 3 1 2 1 1 2 1 3 0 177
220 ENGENHARIA DE CONTROLE E AUTOMAÇÃO - BEL - INTEGRAL9 FLORIANÓPOLIS 2 1 4 1 1 3 1 1,5 2 3 1 2 1 1 2 1 3 0 177
653 ENGENHARIA DE ENERGIA - BEL - INTEGRAL10 ARARANGUÁ 2 1 4 1 1 3 1 1,5 2 0 0 0 0 0 0 0 3 0 177
753 ENGENHARIA DE MATERIAIS - BEL - INTEGRAL9 BLUMENAU 2 1 4 1 1 3 1 1,5 2 2 0,5 1 0,5 0,5 0,5 1 2,5 0 177
236 ENGENHARIA DE MATERIAIS - BEL - INTEGRAL9 FLORIANÓPOLIS 2 1 4 1 1 3 1 1,5 2 3 1 2 1 1 2 1 3 0 177
237 ENGENHARIA DE PRODUÇÃO - BEL - INTEGRAL9 FLORIANÓPOLIS 2 1 4 1 1 3 1 1,5 2 3 1 2,6 1 1 2 1 3 0 177
608 ENGENHARIA DE TRANSPORTES E LOGÍSTICA - BEL - INTEGRAL9 JOINVILLE 2 1 4 1 1 3 1 1,5 2 3 1 2 1 1 2 1 3 0 177
202 ENGENHARIA ELÉTRICA - BEL - INTEGRAL9 FLORIANÓPOLIS 2 1 4 1 1 3 1 1,5 2 3 1 2 1 1 2 1 3 0 177
235 ENGENHARIA ELETRÔNICA - BEL - INTEGRAL9 FLORIANÓPOLIS 2 1 4 1 1 3 1 1,5 2 3 1 2 1 1 2 1 3 0 177
604 ENGENHARIA FERROVIÁRIA E METROVIÁRIA - BEL - INTEGRAL9 JOINVILLE 2 1 4 1 1 3 1 2 1 2 1 1,5 0 0 1 1 2 0 172
553 ENGENHARIA FLORESTAL - BEL - INTEGRAL9 CURITIBANOS 1 1 1 1 1 1 1 1 1 1 0,5 0,5 0,5 0,5 0,5 0,5 0,1 0 100
203 ENGENHARIA MECÂNICA - BEL - INTEGRAL9 FLORIANÓPOLIS 2 1 4 1 1 3 1 2 2 3 1 2 0,5 1 2 1 3 0 182
605 ENGENHARIA MECATRÔNICA - BEL - INTEGRAL9 JOINVILLE 2 1 4 1 1 3 1 2 1 2 1 1,5 0 0 1 1 3 0 172
606 ENGENHARIA NAVAL - BEL - INTEGRAL9 JOINVILLE 2 1 3 1 1 2 1 1 1 2 0,5 2 0 1 2 0 3 0 142
216 ENGENHARIA QUÍMICA - BEL - INTEGRAL9 FLORIANÓPOLIS 2 1 4 1 1 3 1 1,5 2 3 1 3 1 1 2 1 3 0 177
211 ENGENHARIA SANITÁRIA E AMBIENTAL - BEL - INTEGRAL9 FLORIANÓPOLIS 2 1 4 1 1 3 1 1,5 2 3 1 2 1 1 2 1 3 0 177
755 ENGENHARIA TÊXTIL - BEL - MATUTINO BLUMENAU 1 1 1 1 1 1 1 2 1 2 1 1 1 1 1 1 3 0 110
102 FARMÁCIA - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 1 1,5 1,5 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 115
323 FILOSOFIA - BEL - NOTURNO FLORIANÓPOLIS 1,5 1 1 1 1 1 1,5 1,5 1,5 3 0,5 0,2 0,2 0,2 0,2 2 3 0 126
307 FILOSOFIA - LIC - VESPERTINO FLORIANÓPOLIS 1,5 1 1 1 1 1 1,5 1,5 1,5 3 0,5 0,2 0,2 0,2 0,2 2 3 0 126
2 FÍSICA - BEL - INTEGRAL9 FLORIANÓPOLIS 2 1 2 1 1 2 1 1 1 3 0,5 1 0 0,5 1 2 3 0 132
225 FÍSICA - LIC - NOTURNO FLORIANÓPOLIS 2 1 2 1 1 2 1 1 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 132
654 FISIOTERAPIA - BEL - INTEGRAL9 ARARANGUÁ 2 1 1 2 1,5 1,5 1 3 2,5 3 0,5 0,5 0,5 0,5 0,5 2 3 0 167
109 FONOAUDIOLOGIA - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
331 GEOGRAFIA - BEL/LIC8 - MATUTINO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
332 GEOGRAFIA - BEL/LIC8 - NOTURNO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
336 GEOLOGIA - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 2 1 2 2 1 1,5 1 3 0,5 1 1 1 1 1 3 0 135
343 HISTÓRIA - ABI8 - MATUTINO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
346 HISTÓRIA - ABI8 - NOTURNO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
415 JORNALISMO - BEL - INTEGRAL9 FLORIANÓPOLIS 3 1 1 1 1 1 2 3 1 4 0,5 0,5 0,5 0,2 0,2 3 4 0 164
460 LETRAS - ALEMÃO - ABI8 - VESPERTINO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 1 0,5 0,5 0,5 0,5 0,5 0,5 1 0 105
463 LETRAS - ESPANHOL - ABI8 - MATUTINO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,2 0,2 0,2 0,2 2 3 0 105
466 LETRAS - FRANCÊS - ABI8 - MATUTINO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,2 0,2 0,2 0,2 2 3 0 105
469 LETRAS - INGLÊS - ABI8 - VESPERTINO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,4 0,4 2 3 0 105
472 LETRAS - ITALIANO - ABI8 - MATUTINO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
428 LETRAS - PORTUGUÊS - BEL/LIC8 - INTEGRAL12 FLORIANÓPOLIS 4 1 1 1 1 1 2 4 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 186
426 LETRAS - PORTUGUÊS - BEL/LIC8 - NOTURNO FLORIANÓPOLIS 4 1 1 1 1 1 2 4 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 186
222 MATEMÁTICA - BEL - INTEGRAL9 FLORIANÓPOLIS 2 1 2 1 1 1 1 1,5 1 3 0,5 2 0 0 0 0 3 0 127
756 MATEMÁTICA - LIC - MATUTINO BLUMENAU 1 1 2 1 1 1 1 1 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 110
223 MATEMÁTICA - LIC - MATUTINO FLORIANÓPOLIS 2 1 2 1 1 1 1 1,5 1 3 0,5 2 0 0 0 0 3 0 127
751 MATEMÁTICA - LIC - NOTURNO BLUMENAU 1 1 2 1 1 1 1 1 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 110
656 MEDICINA - BEL - INTEGRAL9 ARARANGUÁ 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
556 MEDICINA - BEL - INTEGRAL9 CURITIBANOS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
103 MEDICINA - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
552 MEDICINA VETERINÁRIA - BEL - INTEGRAL9 CURITIBANOS 1 1 1,5 1,5 1 1 1 1,5 2 3 0,5 1 2 2 1 2 3 0 125
230 METEOROLOGIA - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 1 1 1 1 1 2 1 2,5 0,5 1 0,5 1 1 2 3 0 110
338 MUSEOLOGIA - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
9 NUTRIÇÃO - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 1 1 1 1 1 2 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 110
333 OCEANOGRAFIA - BEL - INTEGRAL9 FLORIANÓPOLIS 3 1 3 2 2 2 1 3 1 1 0,5 1 0,5 0,2 0,2 1 3 0 194
104 ODONTOLOGIA - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3,5 1 0,5 0,5 0,5 0,5 2 3 0 105
308 PEDAGOGIA - LIC - VESPERTINO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,4 0,4 0,4 0,4 2 3 0 105
319 PSICOLOGIA - BEL/LIC13 - INTEGRAL9 FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
226 QUÍMICA - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 1,5 1 1,5 1,5 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 120
757 QUÍMICA - BEL - NOTURNO BLUMENAU 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
205 QUÍMICA - LIC - INTEGRAL9 FLORIANÓPOLIS 1 1 1,5 1 1,5 1,5 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 120
752 QUÍMICA - LIC - NOTURNO BLUMENAU 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
227 QUÍMICA TECNOLÓGICA - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 1,5 1 1,5 1,5 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 120
340 RELAÇÕES INTERNACIONAIS - BEL - VESPERTINO FLORIANÓPOLIS 1,5 1,5 1 1 1 1 1 2 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 120
429 SECRETARIADO EXECUTIVO - BEL - NOTURNO FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,2 0,2 0,2 0,2 2 3 0 105
339 SERVIÇO SOCIAL - BEL - NOTURNO FLORIANÓPOLIS 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0 1 2 0 100
238 SISTEMAS DE INFORMAÇÃO - BEL - NOTURNO FLORIANÓPOLIS 2 1 4 1 1 3 1 1,5 2 3 1 2 1 1 2 1 3 0 177
652 TECNOLOGIAS DA INFORMAÇÃO E COMUNICAÇÃO - BEL - NOTURNO ARARANGUÁ 1 1 1,5 1 1 1 1 1,5 1 0,9 0,5 1,3 0 0 0 0,5 1,4 0 110
502 ZOOTECNIA - BEL - INTEGRAL9 FLORIANÓPOLIS 1 1 1 1 1 1 1 1,5 1 3 0,5 0,5 0,5 0,5 0,5 2 3 0 105
`;

const converterParaNumero = (valor: string) => Number(valor.replace(",", "."));

const tokenEhNumerico = (token: string) => {
  if (/[A-Za-zÀ-ÖØ-öø-ÿ]/.test(token)) return false;
  const cleaned = token.replace(/[^0-9,.-]/g, "");
  return /^[0-9]+([.,][0-9]+)?$/.test(cleaned);
};

const parsearTrechoCurso = (trecho: string): Curso | null => {
  const tokens = trecho.trim().split(/\s+/);
  const codigo = tokens[0];
  if (!/^\d{1,3}$/.test(codigo)) return null;

  const tokensNumericos: string[] = [];
  for (let i = tokens.length - 1; i > 0; i -= 1) {
    if (tokensNumericos.length >= 19) break;
    const token = tokens[i];
    if (tokenEhNumerico(token)) {
      tokensNumericos.unshift(token);
    } else if (tokensNumericos.length > 0) {
      break;
    }
  }

  if (tokensNumericos.length !== 19) return null;

  const tokensNome = tokens.slice(1, tokens.length - 19);
  if (tokensNome.length < 2) return null;

  const campus = tokensNome[tokensNome.length - 1];
  const nome = tokensNome.slice(0, -1).join(" ");

  const tokensPeso = tokensNumericos.slice(0, 9);
  const tokensCorte = tokensNumericos.slice(9, 18);
  const tokenPmc = tokensNumericos[18];

  const pesos = CHAVES_DISCIPLINAS.reduce(
    (acumulador, chave, indice) => {
      acumulador[chave] = converterParaNumero(tokensPeso[indice]);
      return acumulador;
    },
    {} as Record<ChaveDisciplina, number>,
  );

  const cortes = CHAVES_DISCIPLINAS.reduce(
    (acumulador, chave, indice) => {
      acumulador[chave] = converterParaNumero(tokensCorte[indice]);
      return acumulador;
    },
    {} as Record<ChaveDisciplina, number>,
  );

  return {
    codigo,
    nome,
    campus,
    pesos,
    cortes,
    pmc: converterParaNumero(tokenPmc),
  };
};

const parsearCursos = (dadosBrutos: string): Curso[] => {
  const textoNormalizado = dadosBrutos.replace(/\s+/g, " ").trim();
  const matches = Array.from(
    textoNormalizado.matchAll(/\b\d{1,3}\s+[A-ZÁÉÍÓÚÃÕÇ]/g),
  );
  const indices = matches.map((correspondencia) => correspondencia.index ?? 0);
  const trechos = indices.map((inicio, indice) => {
    const fim = indices[indice + 1] ?? textoNormalizado.length;
    return textoNormalizado.slice(inicio, fim);
  });

  const cursos = trechos
    .map((trecho) => parsearTrechoCurso(trecho))
    .filter((curso): curso is Curso => Boolean(curso));

  const cursosUnicos = new Map<string, Curso>();
  cursos.forEach((curso) => {
    cursosUnicos.set(curso.codigo, curso);
  });

  return Array.from(cursosUnicos.values()).sort((a, b) =>
    a.nome.localeCompare(b.nome),
  );
};

const cursos = parsearCursos(DADOS_BRUTOS);

export default cursos;
